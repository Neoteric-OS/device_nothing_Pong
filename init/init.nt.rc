#
# Copyright (C) 2023 Neoteric-OS
#
# SPDX-License-Identifier: Apache-2.0
#

on boot
    # Fingerprint
    chown system system /dev/goodix_fp

    # Gestures
    chown system system /sys/devices/platform/goodix_ts.0/edge_mode
    chown system system /sys/devices/platform/goodix_ts.0/gesture/fod_en
    chown system system /sys/devices/platform/goodix_ts.0/gesture/single_en

    write /sys/devices/platform/goodix_ts.0/edge_mode 4
    write /sys/devices/platform/goodix_ts.0/gesture/fod_en 1
    write /sys/devices/platform/goodix_ts.0/gesture/single_en 1

    # Enable single tap sensor in kernel
    chown system system /sys/devices/platform/goodix_ts.0/gesture/aosp_gesture_en
    write /sys/devices/platform/goodix_ts.0/gesture/aosp_gesture_en 1

    # Vibrator
    chown system system /sys/class/leds/vibrator/activate
    chown system system /sys/class/leds/vibrator/duration
    chown system system /sys/class/leds/vibrator/state

on property:sys.boot_completed=1
    # DeviceExtras
    chown system system /sys/class/qcom-battery/wireless_boost_en
    chmod 0666 /sys/class/qcom-battery/wireless_boost_en
